# IDE动作序列数据建模方法v0.1

[TOC]

# 预测模型

**输入：一段操作序列**

```
// size：max_seq_length
[
    [操作向量],
    [操作向量],
    [操作向量],
    …
]
```

**输出：预测的一个操作**

```
[预测操作向量]
```

# 模式识别模型

**输入：一段操作序列**

```
[
    [操作向量],
    [操作向量],
    [操作向量],
    …
]
```

**输出：匹配到了哪个模式**

```
[模式]
```

# 操作向量

```
torch.stack[
	[操作类型], [操作件], [操作件的关联项]
]

操作类型：
map[event_type]  # 数值映射

操作件的父件、调用了操作件的件、操作件调用的件等都是操作件：
torch.stack[artifact1, artifact2, artfact3...]  # 变长向量，长度为设定的最大长度，不足的值补0

关联项：
torch.stack[[操作件的父件], [调用了操作件的件], [操作件调用的件]]

artifact：
map[artifact]  # 数值映射

```

# 预测操作向量

```
[操作类型，操作件]
```

# 向量化规则

每个event_type和artifact都映射成唯一的数值，映射可逆（要支持编解码），（可随时扩充）。event_type是预先定义的数值映射，有几种就映射到几个数。

方案1：预先生成映射map，初始化时扫描整个仓库为每个artifact生成唯一数值，用map存起来，每次程序员删除或添加一个artifact时，实时地更新这个map，具体为添加和删除kv

